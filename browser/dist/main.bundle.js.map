{"version":3,"sources":["webpack:///./src/app/stock.ts","webpack:///./src/app/api.service.ts","webpack:///./src async","webpack:///./src/main.ts","webpack:///./src/app/app.component.ts","webpack:///./src/app/app.module.ts","webpack:///./src/app/detail.component.ts","webpack:///./src/app/graph.component.ts","webpack:///./src/app/legend.component.ts","webpack:///./src/app/options.component.ts","webpack:///./src/app/util.ts","webpack:///./src/environments/environment.ts","webpack:///./src/app/app.component.css","webpack:///./src/app/detail.component.css","webpack:///./src/app/graph.component.css","webpack:///./src/app/legend.component.css","webpack:///./src/app/options.component.css","webpack:///./src/app/app.component.html","webpack:///./src/app/detail.component.html","webpack:///./src/app/graph.component.html","webpack:///./src/app/legend.component.html","webpack:///./src/app/options.component.html"],"names":[],"mappings":"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","file":"main.bundle.js","sourcesContent":["export class Stock {\r\n    symbol: string;\r\n    //Date,Open,High,Low,Close,Volume,Adj Close\r\n    data: any[];\r\n}\r\n// color sequence for stocks\r\nexport const COLOR_SEQ=['red','green','blue','cyan'];\r\n// color sequence for SMA curves\r\nexport const COLOR_SMA_SEQ=['lightcoral','lightgreen','lightblue','lightcyan'];\r\n\r\n// consistent with data format\r\nexport const STOCK_DATE=0;\r\nexport const STOCK_OPEN=1;\r\nexport const STOCK_HIGH=2;\r\nexport const STOCK_LOW=3;\r\nexport const STOCK_CLOSE=4;\r\nexport const STOCK_VOLUME=5;\r\nexport const STOCK_ADJ_CLOSE =6;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/stock.ts","import { Injectable } from '@angular/core';\r\nimport { Http, Response } from '@angular/http';\r\nimport { Observable } from 'rxjs/Observable';\r\n\r\n// a service implementing the collection of apis; currently only getAllStocks is used\r\n@Injectable()\r\nexport class ApiService {\r\n    // change server address here if needed\r\n    private url: string = '.';\r\n\r\n    constructor(private http: Http) { };\r\n\r\n    getAllStocks(): Observable<Response> {\r\n        return this.http.get(`${this.url}/stocks`);\r\n    }\r\n\r\n    getStock(symbol: string): Observable<Response> {\r\n        return this.http.get(`${this.url}/stock/${symbol}`);\r\n    }\r\n\r\n    getSymbols(): Observable<Response> {\r\n        return this.http.get(`${this.url}/symbols`);\r\n    }\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/api.service.ts","function webpackEmptyContext(req) {\n\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 292;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src async\n// module id = 292\n// module chunks = 1","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.ts","import { Component, OnInit } from '@angular/core';\nimport { ApiService } from './api.service';\nimport { Stock } from './stock';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent implements OnInit {\n  // current index of selected date\n  selectedDate: number;\n  // current index of selected stock\n  selectedIndex: number;\n  // show Simple Moving Average(SMA)\n  showSMA: boolean;\n  // A boolean array which control the visibility of stocks\n  showStocks: boolean[];\n  // SMA period (interval)\n  SMAPeriod: number;\n  // stocks data\n  stocks: Stock[];\n\n  constructor(private api: ApiService) {\n    this.showSMA = false;\n    this.SMAPeriod = 5;\n    this.selectedIndex = -1;\n    this.selectedDate = -1;\n  };\n\n  // for simplicity all the data is fetched at the same time by using getAllStocks\n  // use getSymbols & getStock for larger data\n  getAllStocks(): void {\n    this.api.getAllStocks().subscribe(response => {\n      this.stocks = response.json();\n      this.showStocks = this.stocks.map(stock => true);\n    });\n  }\n\n  // get all stocks on page load  \n  ngOnInit(): void {\n    this.getAllStocks();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { HttpModule } from '@angular/http';\n\nimport { AppComponent } from './app.component';\nimport { DetailComponent } from './detail.component';\nimport { GraphComponent } from './graph.component';\nimport { LegendComponent } from './legend.component';\nimport { OptionsComponent } from './options.component';\n\nimport { ApiService } from './api.service';\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    DetailComponent,\n    GraphComponent,\n    LegendComponent,\n    OptionsComponent\n  ],\n  imports: [\n    BrowserModule,\n    FormsModule,\n    HttpModule\n  ],\n  providers: [ApiService],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","import { Component, Input } from '@angular/core';\r\nimport { Stock, COLOR_SEQ } from './stock';\r\n\r\n@Component({\r\n  selector: 'detail',\r\n  templateUrl: './detail.component.html',\r\n  styleUrls: ['./detail.component.css']\r\n})\r\nexport class DetailComponent {\r\n  colorSeq = COLOR_SEQ;\r\n\r\n  @Input()\r\n  selectedIndex: number;\r\n  @Input()\r\n  selectedDate: number;\r\n  @Input()\r\n  stocks: Stock[];\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/detail.component.ts","import { Component, OnChanges, AfterViewInit, Input, Output, EventEmitter, ElementRef, ViewChild, SimpleChange } from '@angular/core';\r\nimport { Stock, STOCK_DATE, STOCK_CLOSE, COLOR_SEQ, COLOR_SMA_SEQ } from './stock';\r\nimport { calcSMA, trimDate } from './util';\r\nimport * as d3 from 'd3';\r\n\r\n// properties used for d3 library\r\ninterface Graph {\r\n  // lines, cursors and axis are stored so they can be updated without repainting\r\n\r\n  adjX: d3.ScaleLinear<any, any> // adjusted(zoomed) scale x\r\n  container: d3.Selection<any, any, any, any>, // d3 root element\r\n  height: number,\r\n  hoveringDateCursor: d3.Selection<any, any, any, any>,\r\n  lines: {\r\n    selected: d3.Selection<any, any, any, any>\r\n    SMAs: d3.Selection<any, any, any, any>[],\r\n    stocks: d3.Selection<any, any, any, any>[],\r\n  },\r\n  selectedDateCursor: d3.Selection<any, any, any, any>,\r\n  svg: d3.Selection<any, any, any, any>, // canvas\r\n  width: number,\r\n  x: d3.ScaleLinear<any, any>, // x scale\r\n  xAxis: d3.Selection<any, any, any, any>,\r\n  y: d3.ScaleLinear<any, any> // y scale\r\n  zoom: d3.ZoomBehavior<any, any> //\r\n}\r\n\r\n@Component({\r\n  selector: 'graph',\r\n  templateUrl: './graph.component.html',\r\n  styleUrls: ['./graph.component.css']\r\n})\r\nexport class GraphComponent implements OnChanges, AfterViewInit {\r\n\r\n  @ViewChild('graph') element: ElementRef;\r\n  graph: Graph;\r\n\r\n  colorSeq = COLOR_SEQ;\r\n  colorSMASeq = COLOR_SMA_SEQ;\r\n\r\n  @Input()\r\n  selectedIndex: number;\r\n  @Output()\r\n  selectedIndexChange: EventEmitter<number> = new EventEmitter();\r\n\r\n  @Input()\r\n  selectedDate: number;\r\n  @Output()\r\n  selectedDateChange: EventEmitter<number> = new EventEmitter();\r\n\r\n  @Input()\r\n  showSMA: boolean;\r\n\r\n  @Input()\r\n  SMAPeriod: number;\r\n\r\n  @Input()\r\n  stocks: Stock[];\r\n\r\n  @Input()\r\n  showStocks: boolean[];\r\n\r\n  // calculate max, min closing price for y-axis\r\n  maxPrice: number;\r\n  minPrice: number;\r\n  // extract date strings for x-axis\r\n  dateArr: string[];\r\n\r\n  // what date is currently hovering;\r\n  hoveringDate: number;\r\n\r\n  constructor() {\r\n    this.graph = { lines: {} } as Graph;\r\n    this.hoveringDate = -1;\r\n  }\r\n\r\n  // trigger once when view loaded\r\n  ngAfterViewInit() {\r\n    this.graph.container = d3.select(this.element.nativeElement);\r\n    this.graph.x = d3.scaleLinear();\r\n    this.graph.y = d3.scaleLinear();\r\n\r\n    this.resetCanvas();\r\n  }\r\n\r\n  // trigger when input changed\r\n  ngOnChanges(changes: { [propName: string]: SimpleChange }) {\r\n    if (changes['showStocks'] && changes['showStocks'].previousValue != changes['showStocks'].currentValue) {\r\n      // trigger when stock visibility is changed\r\n      this.calcProps();\r\n      this.resetCanvas();\r\n    }else if (changes['stocks'] && changes['stocks'].previousValue != changes['stocks'].currentValue) {\r\n      // stocks.length changed - reset canvas\r\n      this.resetCanvas();\r\n    } else {\r\n      // update canvas will be sufficient\r\n      this.update();\r\n    }\r\n  }\r\n\r\n  // trigger when window resized (responsive)\r\n  onResize() {\r\n    this.resetCanvas();\r\n  }\r\n\r\n  // recalulate min/max price and extract date strings \r\n  calcProps() {\r\n    if (this.stocks && this.showStocks.filter(el => true).length > 0) {\r\n      this.maxPrice = this.stocks\r\n        .filter((stock, index) => this.showStocks[index]) // filter out hidden stocks\r\n        .reduce(((max, stock) => {\r\n          return Math.max(max, stock.data.reduce((stockMax, record) => {\r\n            return Math.max(stockMax, record[STOCK_CLOSE]); // use nested reducers to find max closing price in 2d array\r\n          }, 0));\r\n        }), 0);\r\n      this.minPrice = this.stocks\r\n        .filter((stock, index) => this.showStocks[index]) // filter out hidden stocks\r\n        .reduce(((min, stock) => {\r\n          return Math.min(min, stock.data.reduce((stockMin, record) => {\r\n            return Math.min(stockMin, record[STOCK_CLOSE]); // use nested reducers to find max closing price in 2d array\r\n          }, Infinity));\r\n        }), Infinity);\r\n\r\n      // extract strings from any stock array\r\n      // also remove the year text (since all of them are 2013)\r\n      this.dateArr = this.stocks[0].data.map((record) => trimDate(record[STOCK_DATE]));\r\n    }\r\n  }\r\n\r\n  // d3 line generator\r\n  line(input) {\r\n    return d3.line<any>()\r\n      .x(d => this.graph.adjX(d[0]))\r\n      .y(d => this.graph.y(d[1]))(input);\r\n  }\r\n\r\n  // use current width of the div to determine width and height of the drawing area and recreate the svg\r\n  resetCanvas() {\r\n    if (!this.graph.container) {\r\n      return;\r\n    }\r\n\r\n    const MARGIN = 30;\r\n    // remove existing svg element\r\n    this.graph.container.selectAll('svg').remove();\r\n    this.graph.width = this.element.nativeElement.clientWidth - MARGIN * 2;\r\n    // 4:3 ratio, or maximum height 800px\r\n    this.graph.height = this.graph.width * 0.75 - MARGIN * 2;\r\n    if (this.graph.height > 800) {\r\n      this.graph.height = 800;\r\n    }\r\n    // event listener for zoom/pan events\r\n    // will replace adjX scale with current zooming setting\r\n    this.graph.zoom = d3.zoom()\r\n      .scaleExtent([1, 32])\r\n      .translateExtent([[0, 0], [this.graph.width, this.graph.height]])\r\n      .extent([[0, 0], [this.graph.width, this.graph.height]])\r\n      .on(\"zoom\", () => {\r\n        this.graph.adjX = d3.event.transform.rescaleX(this.graph.x);\r\n        this.update();\r\n      });\r\n\r\n    // initialize new svg element\r\n    this.graph.svg = this.graph.container.append('svg')\r\n      .attr('width', this.graph.width + MARGIN * 2)\r\n      .attr('height', this.graph.height + MARGIN * 2)\r\n      .call(this.graph.zoom)\r\n      .append('g')\r\n      .attr('transform', `translate(${MARGIN},${MARGIN})`)\r\n    if (!this.stocks) {\r\n      return;\r\n    }\r\n\r\n    // set scale range; copy x scale to adjX\r\n    this.graph.x.range([0, this.graph.width]);\r\n    this.graph.y.range([this.graph.height, 0]);\r\n\r\n    // set scale domain; leave extra space for y\r\n    this.graph.x.domain([0, this.dateArr.length]);\r\n    this.graph.y.domain([this.minPrice * 0.9, this.maxPrice * 1.1]);\r\n\r\n    if (!this.graph.adjX) {\r\n      this.graph.adjX = this.graph.x;\r\n    }\r\n\r\n\r\n    // draw x axis\r\n    this.graph.xAxis = this.graph.svg.append('g')\r\n      .attr('class', 'x-axis')\r\n      .attr('transform', `translate(0,${this.graph.height})`)\r\n      .call(d3.axisBottom(this.graph.x)\r\n      );\r\n\r\n    // draw y axis\r\n    this.graph.svg.append('g')\r\n      .attr('class', 'y-axis')\r\n      .call(d3.axisLeft(this.graph.y))\r\n\r\n    // mask\r\n    this.graph.svg\r\n      .append('defs')\r\n      .append(\"clipPath\")\r\n      .attr(\"id\", \"mask\")\r\n      .style(\"pointer-events\", \"none\")\r\n      .append(\"rect\")\r\n      .attr(\"width\", this.graph.width)\r\n      .attr(\"height\", this.graph.height + MARGIN)\r\n\r\n\r\n    // prepare SMA lines\r\n    this.graph.lines.SMAs = Array.apply(null, Array(this.stocks.length)).map((el, i) =>\r\n      this.graph.svg.append('path')\r\n        .attr(\"clip-path\", \"url(#mask)\")\r\n        .attr(\"class\", \"line\")\r\n        .attr(\"style\", `stroke:${this.colorSMASeq[i]}`));\r\n\r\n\r\n    // prepare closing price lines\r\n    this.graph.lines.stocks = Array.apply(null, Array(this.stocks.length)).map((el, i) =>\r\n      this.graph.svg.append('path')\r\n        .attr(\"clip-path\", \"url(#mask)\")\r\n        .attr(\"class\", \"line\")\r\n        .attr(\"style\", `stroke:${this.colorSeq[i]}`)\r\n        .on('click', () => this.changeSelectedIndex(i)));\r\n\r\n    // prepare selected stock closing price line\r\n    this.graph.lines.selected = this.graph.svg.append('path')\r\n      .attr(\"clip-path\", \"url(#mask)\")\r\n      .attr(\"class\", \"line\");\r\n\r\n    // current selected date\r\n    this.graph.selectedDateCursor = this.graph.svg.append('g');\r\n\r\n    // hovering date\r\n    this.graph.hoveringDateCursor = this.graph.svg.append('g');\r\n\r\n    // overlay for even capturing \r\n    const self = this;\r\n    this.graph.svg\r\n      .append('rect')\r\n      .attr('class', 'overlay')\r\n      .style(\"pointer-events\", \"all\")\r\n      .attr(\"width\", this.graph.width)\r\n      .attr(\"height\", this.graph.height)\r\n      .on('mousemove', function () {\r\n        self.hoveringDate = Math.round(self.graph.adjX.invert(d3.mouse(this as d3.ContainerElement)[0]));\r\n        // fix out-of-bound\r\n        if (self.hoveringDate === self.dateArr.length) {\r\n          self.hoveringDate = self.hoveringDate - 1;\r\n        }\r\n        self.drawCursors();\r\n      })\r\n      .on('mouseleave', function () {\r\n        self.hoveringDate = -1;\r\n        self.drawCursors();\r\n      })\r\n      .on('click', () => self.changeSelectedDate(self.hoveringDate));\r\n\r\n    // canvas ready; start to update data\r\n    this.update();\r\n  }\r\n\r\n  // update canvas\r\n  update() {\r\n    if (!this.graph.svg) {\r\n      return;\r\n    }\r\n\r\n    // update x axis\r\n    this.graph.xAxis.call(d3.axisBottom(this.graph.adjX).tickFormat((d, i) => this.dateArr[d as number]));\r\n\r\n    // update SMA lines\r\n    this.stocks.forEach((stock, i) => {\r\n      // skip when certain stocks or showSMA is hidden\r\n      if (!this.showSMA || !this.showStocks[i]) {\r\n        this.graph.lines.SMAs[i].attr('d', null);\r\n      } else {\r\n        // calculate SMA; right align SMA curve correctly by moving x\r\n        this.graph.lines.SMAs[i].attr('d', this.line(calcSMA(stock, this.SMAPeriod).map((el, j) => [j + this.SMAPeriod - 1, el])));\r\n      }\r\n    });\r\n\r\n\r\n    // update closing price lines\r\n    this.stocks.forEach((stock, i) => {\r\n      // skip hidden stocks\r\n      if (!this.showStocks[i]) {\r\n        this.graph.lines.stocks[i].attr('d', null);\r\n      } else {\r\n        this.graph.lines.stocks[i].attr('d', this.line(stock.data.map((el, j) => [j, el[STOCK_CLOSE]])));\r\n      };\r\n    });\r\n\r\n    // update selected stock again using bolded line\r\n    if (this.selectedIndex < 0) {\r\n      this.graph.lines.selected.attr('d', null);\r\n    } else {\r\n      this.graph.lines.selected\r\n        .attr(\"style\", `stroke:${this.colorSeq[this.selectedIndex]};stroke-width:5`)\r\n        .attr('d', this.line(this.stocks[this.selectedIndex].data.map((el, i) => [i, el[STOCK_CLOSE]])));\r\n    }\r\n\r\n    // update selected date cursor\r\n    if (this.selectedDate < 0) {\r\n      this.graph.selectedDateCursor.select('*').remove();\r\n    } else {\r\n      this.drawCursors();\r\n    }\r\n  }\r\n\r\n  // draw hovering cursor and selected date cursor\r\n  // they need to be drawn in a more frequent way (on mousemove)\r\n  drawCursors() {\r\n    const cursor1 = this.graph.hoveringDateCursor;\r\n    const cursor2 = this.graph.selectedDateCursor;\r\n    const x1 = this.hoveringDate;\r\n    const posX1 = this.graph.adjX(this.hoveringDate);\r\n    const x2 = this.selectedDate;\r\n    const posX2 = this.graph.adjX(this.selectedDate);\r\n    const showHovering: boolean = x1 >= 0 && x1 !== x2;\r\n    const showSelected: boolean = x2 >= 0;\r\n\r\n    cursor1.selectAll('*').remove();\r\n    cursor2.selectAll('*').remove();\r\n\r\n    if (showHovering) {\r\n      cursor1.append('line') // hovering cursor line\r\n        .attr('class', 'hover-cursor')\r\n        .attr('x1', posX1)\r\n        .attr('x2', posX1)\r\n        .attr('y1', 0)\r\n        .attr('y2', this.graph.height);\r\n      cursor1.append('text') // date label\r\n        .attr('x', posX1)\r\n        .attr('y', 0)\r\n        .attr('style', 'fill: lightgray')\r\n        .text(this.dateArr[x1])\r\n    }\r\n\r\n    if (showSelected) {\r\n      cursor1.append('line') // selected cursor line\r\n        .attr('class', 'selected-cursor')\r\n        .attr('x1', posX2)\r\n        .attr('x2', posX2)\r\n        .attr('y1', 0)\r\n        .attr('y2', this.graph.height);\r\n      cursor2.append('text') // date label\r\n        .attr('x', posX2)\r\n        .attr('y', 0)\r\n        .attr('style', 'fill: black')\r\n        .text(this.dateArr[x2])\r\n    }\r\n\r\n    let labelPosX = showHovering ? posX1 : posX2;\r\n    labelPosX = (labelPosX < this.graph.width / 2) ? labelPosX + 5 : labelPosX - 60;\r\n\r\n    if (showHovering) {\r\n      this.stocks.forEach((stock, i) => {\r\n        if(!this.showStocks[i]){\r\n          return;\r\n        }\r\n        const y = stock.data[this.hoveringDate][STOCK_CLOSE];\r\n        const posY = this.graph.y(y);\r\n        cursor1.append('circle') // crosspoints\r\n          .attr('cx', posX1)\r\n          .attr('cy', posY)\r\n          .attr(\"style\", `fill:${this.colorSeq[i]}`)\r\n          .attr('r', 5);\r\n        cursor1.append('text')  // price label outline\r\n          .attr('x', labelPosX)\r\n          .attr('y', posY)\r\n          .text(y)\r\n          .attr('style', 'stroke: white; stroke-width: 5px;')\r\n        cursor1.append('text') // price label fill\r\n          .attr('x', labelPosX)\r\n          .attr('y', posY)\r\n          .text(y)\r\n      });\r\n    } else if (showSelected) {\r\n      this.stocks.forEach((stock, i) => {\r\n        if(!this.showStocks[i]){\r\n          return;\r\n        }\r\n        const y = stock.data[this.selectedDate][STOCK_CLOSE];\r\n        const posY = this.graph.y(y);\r\n        cursor2.append('circle') // crosspoints\r\n          .attr('cx', posX2)\r\n          .attr('cy', posY)\r\n          .attr(\"style\", `fill:${this.colorSeq[i]}`)\r\n          .attr('r', 5);\r\n        cursor2.append('text')  // price label outline\r\n          .attr('x', labelPosX)\r\n          .attr('y', posY)\r\n          .text(y)\r\n          .attr('style', 'stroke: white; stroke-width: 5px;')\r\n        cursor2.append('text') // price label fill\r\n          .attr('x', labelPosX)\r\n          .attr('y', posY)\r\n          .text(y)\r\n      });\r\n    }\r\n  }\r\n\r\n  // zoom button handler\r\n  zoom(direction: boolean): void {\r\n    // TODO: zoom with buttons in conflicts with zoom behaviour in current d3 library \r\n    // see http://stackoverflow.com/questions/40246196/d3-v4-zoom-with-buttons-in-conflicts-with-zoom-behaviour\r\n    this.graph.zoom.scaleBy(this.graph.svg, direction ? 1.2 : 0.8);\r\n  }\r\n\r\n  // change selected stock index\r\n  changeSelectedIndex(index: number): void {\r\n    this.selectedIndexChange.emit(index);\r\n  }\r\n\r\n  // change selected date\r\n  changeSelectedDate(date: number): void {\r\n    if (date >= 0) {\r\n      this.selectedDateChange.emit(date);\r\n    }\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/graph.component.ts","import { Component, Input, Output, EventEmitter } from '@angular/core';\r\nimport { Stock, COLOR_SEQ } from './stock';\r\n\r\n@Component({\r\n  selector: 'stock-legend',\r\n  templateUrl: './legend.component.html',\r\n  styleUrls: ['./legend.component.css']\r\n})\r\nexport class LegendComponent {\r\n  colorSeq = COLOR_SEQ;\r\n  \r\n  @Input()\r\n  stocks: Stock[];\r\n  \r\n  @Input()\r\n  showStocks: boolean[];\r\n  @Output()\r\n  showStocksChange: EventEmitter<boolean[]> = new EventEmitter();\r\n\r\n  @Input()\r\n  selectedIndex: number;\r\n  @Output()\r\n  selectedIndexChange: EventEmitter<number> = new EventEmitter();\r\n\r\n  // change stock visibility\r\n  toggleStock(index: number, event): void {\r\n    event.stopPropagation();\r\n    this.showStocks[index] = !this.showStocks[index];\r\n    this.showStocksChange.emit(this.showStocks.slice());\r\n\r\n    // if the selcted stock is about to be hidden also remove the selection\r\n    if (this.selectedIndex === index && !this.showStocks[index]) {\r\n      this.selectedIndex = -1;\r\n      this.selectedIndexChange.emit(this.selectedIndex);\r\n    }\r\n  }\r\n\r\n  // change selected stock\r\n  changeSelected(index: number): void {\r\n    if (this.showStocks[index]) {\r\n      this.selectedIndex = index;\r\n      this.selectedIndexChange.emit(this.selectedIndex);\r\n    }\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/legend.component.ts","import { Component, Input, Output, EventEmitter } from '@angular/core';\n\n@Component({\n  selector: 'options',\n  templateUrl: './options.component.html',\n  styleUrls: ['./options.component.css']\n})\nexport class OptionsComponent {\n  @Input()\n  showSMA: boolean;\n  @Output()\n  showSMAChange: EventEmitter<boolean> = new EventEmitter();\n  @Input()\n  SMAPeriod: number;\n  @Output()\n  SMAPeriodChange: EventEmitter<number> = new EventEmitter();\n\n  // toogle SMA visibility\n  toggleSMA(): void {\n    this.showSMAChange.emit(!this.showSMA);\n  }\n\n  // change SMA period\n  changeSMAPeriod(period: number): void{\n    this.SMAPeriodChange.emit(period);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/options.component.ts","import { Stock, STOCK_CLOSE } from './stock';\r\n\r\n// trim date to a shorter string\r\nexport function trimDate(input: string): string {\r\n    return input.substr(5);\r\n    // use momentjs instead of simple trimming for a more complex case\r\n}\r\n\r\n// calculate moving average\r\nexport function calcSMA(input: Stock, period: number): number[] {\r\n    const result = [];\r\n    let sum = 0;\r\n    for (let i = 0; i < period - 1; i++) {\r\n        sum += parseFloat(input.data[i][STOCK_CLOSE]);\r\n    }\r\n    for (let i = period - 1; i < input.data.length; i++) {\r\n        sum += parseFloat(input.data[i][STOCK_CLOSE]);\r\n        result.push(sum / period);\r\n        sum -= parseFloat(input.data[i - period + 1][STOCK_CLOSE])\r\n    }\r\n    return result;\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/util.ts","// The file contents for the current environment will overwrite these during build.\n// The build system defaults to the dev environment which uses `environment.ts`, but if you do\n// `ng build --env=prod` then `environment.prod.ts` will be used instead.\n// The list of which env maps to which file can be found in `.angular-cli.json`.\n\nexport const environment = {\n  production: false\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/environments/environment.ts","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"/* use flexbox for sections placing */\\r\\n.container{\\r\\n    display: -webkit-box;\\r\\n    display: -ms-flexbox;\\r\\n    display: flex;\\r\\n    -webkit-box-align: center;\\r\\n        -ms-flex-align: center;\\r\\n            align-items: center;\\r\\n    -ms-flex-wrap: wrap;\\r\\n        flex-wrap: wrap;\\r\\n}\\r\\n.main{\\r\\n    -webkit-box-flex: 2;\\r\\n        -ms-flex: 2 1 auto;\\r\\n            flex: 2 1 auto;\\r\\n    margin-right: 40px;\\r\\n}\\r\\n.side{\\r\\n    -webkit-box-flex: 1;\\r\\n        -ms-flex: 1 1 auto;\\r\\n            flex: 1 1 auto;\\r\\n}\\r\\n\\r\\n.legend,.detail, .options{\\r\\n    width: 250px;\\r\\n}\\r\\n/*card style*/\\r\\n.graph,.legend,.options,.detail{\\r\\n    box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);\\r\\n}\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/app.component.css\n// module id = 462\n// module chunks = 1","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".content{\\r\\n    padding: 0 10px 10px 10px;\\r\\n}\\r\\n.color-block{\\r\\n    display: inline-block;\\r\\n    width: 20px;\\r\\n    margin-right: 10px;\\r\\n    height: 1em;\\r\\n    vertical-align: middle;\\r\\n}\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/detail.component.css\n// module id = 463\n// module chunks = 1","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".overlay{\\r\\n    margin-left: 5px;\\r\\n    margin-top: 5px;\\r\\n}\\r\\n.btn{\\r\\n    display: inline-block;\\r\\n    cursor: pointer;\\r\\n    text-align: center;\\r\\n    vertical-align: middle;\\r\\n    width: 1.5em;\\r\\n    line-height: 1.5em;\\r\\n    color: white;\\r\\n    background-color: darkblue;\\r\\n    border-radius: 50%;\\r\\n    box-shadow: 1px 1px 5px 0px rgba(0,0,0,0.75);\\r\\n}\\r\\n.btn:hover{\\r\\n    background-color: blue;\\r\\n}\\r\\n.tip{\\r\\n    margin-left: 5px;\\r\\n    color: gray;\\r\\n}\\r\\n\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/graph.component.css\n// module id = 464\n// module chunks = 1","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"/* list view*/\\r\\nul{\\r\\n    list-style-type: none;\\r\\n    padding: 0;\\r\\n    max-height: 300px;\\r\\n    overflow-y: scroll;\\r\\n}\\r\\nli{\\r\\n    cursor: pointer;\\r\\n    padding: 1em;\\r\\n    line-height: 2em;\\r\\n    border-top: 1px solid whitesmoke;\\r\\n}\\r\\nli:hover{\\r\\n    background-color: whitesmoke;\\r\\n}\\r\\nli.selected{\\r\\n    background-color: lightblue;\\r\\n}\\r\\n\\r\\n/* colored check box */\\r\\n.checkbox{\\r\\n    display: inline-block;\\r\\n    vertical-align: middle;\\r\\n    width: 1em;\\r\\n    height: 1em;\\r\\n    margin-right: 1em;\\r\\n    border-width: 2px;\\r\\n    border-style: solid;\\r\\n    border-radius: 5px;\\r\\n}\\r\\n.checkmark{\\r\\n    width: 0.6em;\\r\\n    height: 0.6em;\\r\\n    margin-left: 0.2em;\\r\\n    margin-top: 0.2em;\\r\\n}\\r\\n.label{\\r\\n    vertical-align: middle\\r\\n}\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/legend.component.css\n// module id = 465\n// module chunks = 1","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".row {\\r\\n    cursor: pointer;\\r\\n    margin-bottom: 1em;\\r\\n}\\r\\n.checkbox {\\r\\n    display: inline-block;\\r\\n    vertical-align: middle;\\r\\n    width: 1em;\\r\\n    height: 1em;\\r\\n    margin-right: .5em;\\r\\n    border: 2px solid darkgray;\\r\\n    border-radius: 5px;\\r\\n}\\r\\n.checkbox.checked {\\r\\n    border-color: limegreen;\\r\\n}\\r\\n.checkmark {\\r\\n    width: 0.6em;\\r\\n    height: 0.6em;\\r\\n    margin-left: 0.2em;\\r\\n    margin-top: 0.2em;\\r\\n    background-color: limegreen;\\r\\n}\\r\\n.label {\\r\\n    vertical-align: middle\\r\\n}\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/options.component.css\n// module id = 466\n// module chunks = 1","module.exports = \"<div class=\\\"container\\\">\\n  <div class=\\\"main\\\">\\n    <div class=\\\"graph\\\">\\n      <graph [stocks]=\\\"stocks\\\" [(showStocks)]=\\\"showStocks\\\" [(selectedIndex)]=\\\"selectedIndex\\\" [(selectedDate)]=\\\"selectedDate\\\" [showSMA]=\\\"showSMA\\\" [SMAPeriod]=\\\"SMAPeriod\\\"></graph>\\n    </div>\\n  </div>\\n  <div class=\\\"side\\\">\\n    <div class=\\\"detail\\\">\\n      <detail [selectedIndex]=\\\"selectedIndex\\\" [stocks]=\\\"stocks\\\" [selectedDate]=\\\"selectedDate\\\"></detail>\\n    </div>\\n    <div class=\\\"legend\\\">\\n      <stock-legend [stocks]=\\\"stocks\\\" [(showStocks)]=\\\"showStocks\\\" [(selectedIndex)]=\\\"selectedIndex\\\"></stock-legend>\\n    </div>\\n    <div class=\\\"options\\\">\\n      <options [(showSMA)]=\\\"showSMA\\\" [(SMAPeriod)]=\\\"SMAPeriod\\\"></options>\\n    </div>\\n  </div>\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/app.component.html\n// module id = 468\n// module chunks = 1","module.exports = \"<div>\\r\\n  <p class=\\\"title\\\">Stock Detail</p>\\r\\n  <div class=\\\"content\\\">\\r\\n    <p *ngIf=\\\"selectedIndex < 0\\\">No stock picked. Click the stock in the legend to pick one.</p>\\r\\n    <p *ngIf=\\\"selectedDate < 0\\\">No specific date picked. Click the graph to pick a date.</p>\\r\\n    <div *ngIf=\\\"selectedDate >= 0 && selectedIndex >= 0\\\">\\r\\n      <p><span class=\\\"color-block\\\" [style.backgroundColor]=\\\"colorSeq[selectedIndex]\\\"></span> Symbol: {{stocks[selectedIndex].symbol}}</p>\\r\\n      <p>Date: {{stocks[selectedIndex].data[selectedDate][0]}}</p>\\r\\n      <p>Open: {{stocks[selectedIndex].data[selectedDate][1]}}</p>\\r\\n      <p>High: {{stocks[selectedIndex].data[selectedDate][2]}}</p>\\r\\n      <p>Low: {{stocks[selectedIndex].data[selectedDate][3]}}</p>\\r\\n      <p>Close: {{stocks[selectedIndex].data[selectedDate][4]}}</p>\\r\\n      <p>Adj. Close: {{stocks[selectedIndex].data[selectedDate][6]}}</p>\\r\\n      <p>Volume: {{stocks[selectedIndex].data[selectedDate][5]}}</p>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/detail.component.html\n// module id = 469\n// module chunks = 1","module.exports = \"<div class=\\\"graph\\\" #graph (window:resize)=\\\"onResize($event)\\\">\\r\\n    <div class=\\\"overlay\\\">\\r\\n        <span class=\\\"btn\\\" (click)=\\\"zoom(true)\\\">+</span>\\r\\n        <span class=\\\"btn\\\" (click)=\\\"zoom(false)\\\">-</span>\\r\\n        <span class=\\\"tip\\\">or use mousewheel to zoom; drag horizontally to pan when zoomed</span>\\r\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/graph.component.html\n// module id = 470\n// module chunks = 1","module.exports = \"<div *ngIf=\\\"stocks\\\">\\r\\n  <p class=\\\"title\\\">Legend</p>\\r\\n  <ul>\\r\\n    <!--click will change selected to current list item-->\\r\\n    <li *ngFor=\\\"let stock of stocks; let i = index\\\" [class.selected]=\\\"selectedIndex===i\\\" (click)=\\\"changeSelected(i)\\\">\\r\\n      <!--click the checkbox will toggle visibility of a stock-->\\r\\n      <span class=\\\"checkbox\\\" [style.borderColor]=\\\"showStocks[i]?colorSeq[i]:'darkgrey'\\\" (click)=\\\"toggleStock(i, $event)\\\">\\r\\n        <div class=\\\"checkmark\\\" [hidden]=\\\"!showStocks[i]\\\"  [style.backgroundColor]='colorSeq[i]' ></div>\\r\\n      </span>\\r\\n      <span class=\\\"label\\\" [style.color]=\\\"showStocks[i]?'black':'darkgrey'\\\">{{stock.symbol}}</span>\\r\\n    </li>\\r\\n  </ul>\\r\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/legend.component.html\n// module id = 471\n// module chunks = 1","module.exports = \"<div>\\r\\n  <p class=\\\"title\\\">Options</p>\\r\\n  <div class=\\\"content\\\">\\r\\n    <!--toggle SMA visibility when clicked-->\\r\\n    <div class=\\\"row\\\" (click)=\\\"toggleSMA()\\\">\\r\\n      <span class=\\\"checkbox\\\" [class.checked]=\\\"showSMA\\\">\\r\\n        <div class=\\\"checkmark\\\" [hidden]=\\\"!showSMA\\\"></div>\\r\\n      </span>\\r\\n      <span class=\\\"label\\\">Show moving average</span>\\r\\n    </div>\\r\\n    <!--select SMA period-->\\r\\n    <div class=\\\"row\\\">\\r\\n      <span class=\\\"label\\\">SMA Period:</span>\\r\\n      <select [(ngModel)]=\\\"SMAPeriod\\\" (ngModelChange)=\\\"changeSMAPeriod($event)\\\">\\r\\n        <option [ngValue]=\\\"5\\\">5 days</option>\\r\\n        <option [ngValue]=\\\"10\\\">10 days</option>\\r\\n        <option [ngValue]=\\\"20\\\">20 days</option>\\r\\n        <option [ngValue]=\\\"50\\\">50 days</option>\\r\\n      </select>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/options.component.html\n// module id = 472\n// module chunks = 1"],"sourceRoot":""}